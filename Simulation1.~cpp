//====================================================================
// Simulation dynamischer Systeme mit PLAN
//====================================================================
// Projektbeschreibung:
//
//====================================================================
#include <vcl.h>
#pragma hdrstop
#include "Plan.h"
#include "ObjectGroup.h"
#include "SeaFeld.h"




class TUser : public TPlan{

public:

    int getMW,getMH;

    SeaFeld Feld;

    
    void Init(){

        getMW = GetMaxW();
        getMH = GetMaxH();
        Feld.FeldInit(getMW,getMH);
        Reset();
        DrawInit();

        Feld.InitObject();
        Feld.CreatObject(1,1,1);
        Feld.CreatObject(0,0,0);
        //ObjectDraw(Feld.GetObject(1,1),0);

        Rectangle(Feld.GetObject(0,0).xInPixel,Feld.GetObject(0,0).yInPixel,20,20);
        //Rectangle(Feld.GetObject(1,1).xInPixel,Feld.GetObject(1,1).yInPixel,20,20);
    }

    void Reset(){
        SetPen(Schwarz);SetBrush(Weiss); SetTextSize(30);               // adjust the size and color of the word
        Text((int)(GetMaxW()*0.25),(int)(GetMaxH()*0.05),"Feld of Sea");
    }

    void Run(){


    }

    void DrawInit(){
        SetBrush(TColor(RGB(0,255,255)));
        for(int y = 0; y < Feld.h; y++  ){     //Zeilen
            for(int x = 0; x < Feld.w; x++){          //Spalten
            int colorDiff =255-(float)y/(float)Feld.h*100;
            SetBrushColor(TColor(RGB(0,colorDiff,255)));
            SetPenColor(Schwarz);
            //SetPen(TColor(RGB(0,ColorDiff,255)));
                Rectangle(Feld.startScreenToLeft+x*Feld.pixelW,Feld.startScreenToTop+y*Feld.pixelW,Feld.pixelW,Feld.pixelW);
            }
        }

    }

    void ObjectDraw(Object t,int colorNum){
    switch(t.code){
        case 0:SetBrush(Schwarz);
               SetPen(Schwarz);
               Rectangle(t.xInPixel,t.yInPixel,20,20);

        case 1:SetBrush(Schwarz);
               SetPen(Schwarz);
               Rectangle(t.xInPixel,t.yInPixel,20,20);

    }
}

 };



//====================================================================
#pragma argsused
int main(int argc, char* argv[]){ TUser a; a.Execute(); return 0; }
//__________________________________________________________Ost08_____



